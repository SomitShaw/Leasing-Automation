<mvc:View
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:l="sap.ui.layout"
  xmlns:u="sap.ui.unified"
  xmlns:form="sap.ui.layout.form"
  xmlns:core="sap.ui.core"
  controllerName="documentinfoextractor.controller.MainView">
  
  <!-- HBox for horizontal split layout -->
  <HBox id="screendiv">
    
    <!-- Left Box for Inputs -->
    <VBox id="leftdiv" width="50%" justifyContent="Start" alignItems="Stretch">
      
      <!-- Simple Form for Input Fields -->
      <form:SimpleForm id="inputForm" layout="ColumnLayout" editable="true">
        <form:toolbar>
          <OverflowToolbar id="overflowtool">
            <Title id="title" text="Information Extraction:" />
            <ToolbarSpacer id="toolbarspacer" />
          </OverflowToolbar>
        </form:toolbar>

        <!-- Contract Type Input -->
        <Label id="labelContractType" text="Contract Type" />
        <Input id="inputContractType" placeholder="Enter contract type" value="{view>/contractType}" editable="{view>/editMode}" />

        <!-- Effective Date Input -->
        <Label id="labelEffectiveDate" text="Effective Date" />
        <DatePicker id="inputEffectiveDate" placeholder="Enter effective date" value="{view>/effectiveDate}" editable="{view>/editMode}" />

        <!-- Expiry Date Input -->
        <Label id="labelExpiryDate" text="Expiry Date" />
        <DatePicker id="inputExpiryDate" placeholder="Enter expiry date" value="{view>/expiryDate}" editable="{view>/editMode}" />

        <!-- Submit Button -->
        <Label id="submitlabel" text="" /> <!-- Empty label to maintain form structure -->
        <Button 
          id="buttonSubmit" 
          text="Submit" 
          type="Emphasized" 
          press="onSubmitPress" />
      </form:SimpleForm>
      
    </VBox>
    
    <!-- Right Box for File Upload, Preview, and Proceed Button -->
    <VBox id="rightdiv" width="50%" justifyContent="Center" alignItems="Center">

      <!-- File Uploader Section -->
      <l:VerticalLayout id="fileUploaderLayout">
        <u:FileUploader
          id="fileUploaderMain"
          name="myFileUpload"
          uploadUrl="upload/"
          tooltip="Upload your file to the local server"
          uploadComplete="handleUploadComplete"
          change="handleValueChange"
          typeMissmatch="handleTypeMissmatch"
          style="Emphasized"
          fileType="txt,jpg,pdf"
          placeholder="Choose a file for Upload...">
          
          <!-- Parameters for Document Type, Schema, and Schema Version -->
          <u:parameters>
            <u:FileUploaderParameter
              id="fileUploaderParam1"
              name="Document-Type"
              value="invoice"/> <!-- Set as per your requirement -->
            <u:FileUploaderParameter
              id="fileUploaderParam2"
              name="Schema"
              value="default"/> <!-- Adjust accordingly -->
            <u:FileUploaderParameter
              id="fileUploaderParam3"
              name="Schema-Version"
              value="1.0"/> <!-- Adjust accordingly -->
          </u:parameters>
          
        </u:FileUploader>
      </l:VerticalLayout>
      
      <!-- File Preview Section -->
      <VBox id="previewContainer" width="100%" alignItems="Center" justifyContent="Center">
        <Text id="previewText" text="File Preview:" visible="false" />
        
        <!-- Image Preview -->
        <Image id="filePreview" visible="false" width="100%" height="300px" />

        <!-- PDF Preview -->
        <core:HTML
          id="pdfViewer"
          visible="false"
          content="{view>/pdfContent}"
          class="pdfViewerClass" />
      </VBox>

      <!-- Proceed Button (Initially hidden) -->
      <Button
        id="proceedButton"
        text="Next"
        visible="false"
        press="onProceedPress" />
      
    </VBox>
  
  </HBox>
</mvc:View>
